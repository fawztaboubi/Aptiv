{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/azer/Desktop/Aptiv/Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as Highcharts from 'highcharts';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../Services/department.service\";\nimport * as i2 from \"./../../Services/action.service\";\nimport * as i3 from \"./../../Services/theme.service\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"highcharts-angular\";\nexport class KPIComponent {\n  constructor(departmentService, actionService, themeService) {\n    this.departmentService = departmentService;\n    this.actionService = actionService;\n    this.themeService = themeService; //Overall rating\n\n    this.done = 0;\n    this.doing = 0;\n    this.delayed = 0; //departments graph\n\n    this.departments = [];\n    this.DNames = [];\n    this.Ddone = [];\n    this.Ddoing = [];\n    this.Ddelayed = [];\n    this.Dactions = []; //themes graph\n\n    this.themes = [];\n    this.TNames = [];\n    this.Tprogress = [];\n    this.Tactions = []; //delay Chart\n\n    this.actions = [];\n    this.ontime = 0;\n    this.second = 0;\n    this.third = 0;\n    this.Dontime = [];\n    this.Dsecond = [];\n    this.Dthird = [];\n    this.depNames = [];\n    this.dontime = 0;\n    this.dsecond = 0;\n    this.dthird = 0; //let's set the colors firs\n\n    this.red = \"#CC3712\";\n    this.green = \"#52BB52\";\n    this.yellow = \"#E9E16E\";\n    this.highcharts = Highcharts;\n    this.Options = {\n      chart: {\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: \"Average Temprature\"\n      },\n      xAxis: {\n        title: {\n          text: 'Tokyo'\n        },\n        categories: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n      },\n      yAxis: {\n        title: {\n          text: \"Temprature\"\n        }\n      },\n      series: [{\n        data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 24.4, 19.3, 16.0, 18.4, 17.9],\n        type: 'spline'\n      }]\n    }; //Progress per theme chart\n\n    this.themechart = Highcharts;\n    this.themeOptions = {};\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      //Execution rate per department\n      _this.departments = yield _this.departmentService.getDepartments().toPromise();\n\n      for (let dep of _this.departments) {\n        _this.DNames.push(dep.name.toString());\n\n        _this.Dactions = yield _this.actionService.getActionsByDepartment(dep.name).toPromise();\n\n        _this.Ddone.push(_this.Dactions.filter(res => {\n          return res.Status.toLocaleLowerCase().match(\"done\");\n        }).length / _this.Dactions.length);\n\n        _this.Ddoing.push(_this.Dactions.filter(res => {\n          return res.Status.toLocaleLowerCase().match(\"doing\");\n        }).length / _this.Dactions.length);\n\n        _this.Ddelayed.push(_this.Dactions.filter(res => {\n          return res.Status.toLocaleLowerCase().match(\"delayed\");\n        }).length / _this.Dactions.length);\n\n        console.log(_this.Ddoing);\n        console.log(_this.Ddelayed);\n        console.log(_this.DNames);\n        console.log(_this.Ddone);\n      }\n\n      _this.barChartdepartments(); //actionplan execution rate per theme \n\n\n      _this.themes = yield _this.themeService.getThemes().toPromise();\n\n      for (let theme of _this.themes) {\n        _this.TNames.push(theme.name.toString());\n\n        for (let actionplan of theme.actionplans) {\n          for (let action of actionplan.actions) {\n            _this.Tactions.push(action);\n          }\n        }\n\n        _this.Tprogress.push(_this.CalculateProgress(_this.Tactions));\n      }\n\n      _this.barChartthemes(); //delaychart\n\n\n      _this.actions = yield _this.actionService.getActions().toPromise();\n      console.group(_this.actions);\n\n      for (let action of _this.actions) {\n        if (action.Status === \"done\" && action.SecondDueDate === null && action.ThirdDueDate === null) {\n          _this.ontime = _this.ontime + 1;\n        } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n          _this.second += 1;\n        } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n          _this.third += 1;\n        }\n      }\n\n      _this.barChartdelay(); //delay per Department\n\n\n      for (let department of _this.departments) {\n        let depontime = 0;\n        let depsecond = 0;\n        let depthird = 0;\n\n        _this.depNames.push(department.name.toString());\n\n        let actiondep = yield _this.actionService.getActionsByDepartment(department.name).toPromise();\n\n        for (let action of actiondep) {\n          if (action.Status === \"done\" && action.SecondDueDate === null && action.ThirdDueDate === null) {\n            depontime += 1;\n          } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n            depsecond += 1;\n          } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n            depthird += 1;\n          }\n        }\n\n        let nb = actiondep.filter(action => {\n          return action.Status.toLowerCase().match(\"done\");\n        }).length;\n\n        _this.Dontime.push(depontime / nb);\n\n        _this.Dsecond.push(depsecond / nb);\n\n        _this.Dthird.push(depthird / nb);\n      }\n\n      _this.barChartdelaydep();\n\n      _this.done = _this.actions.filter(res => {\n        return res.Status.toLowerCase().match(\"done\");\n      }).length / _this.actions.length;\n\n      _this.doneDonutChart();\n\n      _this.doing = _this.actions.filter(res => {\n        return res.Status.toLowerCase().match(\"doing\");\n      }).length / _this.actions.length;\n\n      _this.doingDonutChart();\n\n      _this.delayed = _this.actions.filter(res => {\n        return res.Status.toLowerCase().match(\"delayed\");\n      }).length / _this.actions.length;\n\n      _this.delayedDonutChart();\n    })();\n  }\n\n  delayedDonutChart() {\n    Highcharts.chart({\n      chart: {\n        renderTo: 'delayeddonut',\n        plotBorderWidth: 0,\n        plotShadow: false,\n        height: '40px',\n        width: '60px'\n      },\n      title: {\n        text: 'Browser<br>shares<br>2017',\n        align: 'center',\n        verticalAlign: 'middle',\n        y: 40\n      },\n      tooltip: {\n        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n      },\n      plotOptions: {\n        pie: {\n          dataLabels: {\n            enabled: true,\n            distance: -50,\n            style: {\n              fontWeight: 'bold',\n              color: 'white'\n            }\n          },\n          startAngle: -90,\n          endAngle: 90,\n          center: ['50%', '75%'],\n          size: '50%'\n        }\n      },\n      series: [{\n        type: 'pie',\n        innerSize: '50%',\n        data: [['done', this.done], ['doing', this.doing], ['delayed', this.delayed]]\n      }]\n    });\n  }\n\n  doingDonutChart() {}\n\n  doneDonutChart() {}\n\n  barChartdelaydep() {\n    Highcharts.chart('delaydepchart', {\n      chart: {\n        type: 'column',\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: 'Execution Rate /Department'\n      },\n      subtitle: {\n        text: 'Only done action are taking into consideration here'\n      },\n      xAxis: {\n        categories: this.depNames,\n        crosshair: true\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: 'Rainfall (mm)'\n        }\n      },\n      tooltip: {\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' + '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          pointPadding: 0.2,\n          borderWidth: 0\n        }\n      },\n      series: [{\n        name: 'On time',\n        type: 'column',\n        data: this.Dontime,\n        color: this.green\n      }, {\n        name: 'With 2nd due date',\n        type: 'column',\n        data: this.Dsecond,\n        color: this.yellow\n      }, {\n        name: 'With 3rd due date',\n        type: 'column',\n        data: this.Dthird,\n        color: this.red\n      }]\n    });\n  }\n\n  barChartdelay() {\n    Highcharts.chart('delaychart', {\n      chart: {\n        type: 'column',\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: 'Execution Rate'\n      },\n      subtitle: {\n        text: 'all actions are considered in this chart'\n      },\n      xAxis: {\n        categories: ['On time', 'With 2nd due date', 'With 3rd due date'],\n        crosshair: true\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: 'Rainfall (mm)'\n        }\n      },\n      tooltip: {\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' + '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          pointPadding: 0.2,\n          borderWidth: 0\n        }\n      },\n      series: [{\n        name: 'On time',\n        type: 'column',\n        data: [this.ontime / this.actions.length, this.second / this.actions.length, this.third / this.actions.length]\n      }]\n    });\n  }\n\n  barChartthemes() {\n    Highcharts.chart('themechart', {\n      chart: {\n        type: 'column',\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: 'Action plan progress per theme '\n      },\n      subtitle: {\n        text: 'Evaluation metric is set to progress rate'\n      },\n      xAxis: {\n        categories: this.TNames,\n        crosshair: true\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: 'Progress (%)'\n        }\n      },\n      tooltip: {\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' + '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          pointPadding: 0.2,\n          borderWidth: 0\n        }\n      },\n      series: [{\n        name: 'Progress rate',\n        type: 'column',\n        data: this.Tprogress //progress rate for every theme\n\n      }]\n    });\n  }\n\n  barChartdepartments() {\n    Highcharts.chart('depchart', {\n      chart: {\n        type: 'column',\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: 'Monthly Average Rainfall'\n      },\n      subtitle: {\n        text: 'Source: WorldClimate.com'\n      },\n      xAxis: {\n        categories: this.DNames,\n        crosshair: true\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: 'Rainfall (mm)'\n        }\n      },\n      tooltip: {\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' + '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          pointPadding: 0.2,\n          borderWidth: 0\n        }\n      },\n      series: [{\n        name: 'Done',\n        type: 'column',\n        data: this.Ddone,\n        color: this.green\n      }, {\n        name: 'Doing',\n        type: 'column',\n        data: this.Ddoing,\n        color: this.yellow\n      }, {\n        name: 'Delayed',\n        type: 'column',\n        data: this.Ddelayed,\n        color: this.red\n      }]\n    });\n  }\n\n  CalculateProgress(list) {\n    let rates = [];\n\n    for (let action of list) {\n      rates.push(parseInt(action.Progress.replace('%', '').replace(' ', '')));\n    }\n\n    return rates.reduce((a, b) => a + b) / rates.length;\n  }\n\n}\n\nKPIComponent.ɵfac = function KPIComponent_Factory(t) {\n  return new (t || KPIComponent)(i0.ɵɵdirectiveInject(i1.DepartmentService), i0.ɵɵdirectiveInject(i2.ActionService), i0.ɵɵdirectiveInject(i3.ThemeService));\n};\n\nKPIComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: KPIComponent,\n  selectors: [[\"app-kpi\"]],\n  decls: 57,\n  vars: 3,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"], [1, \"title\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-line-chart\"], [1, \"navbar\"], [1, \"card\"], [1, \"card-body\", \"sucess\"], [1, \"small-card\"], [1, \"inside\", 2, \"font-weight\", \"bold\", \"text-align\", \"center\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-check-circle\", 2, \"color\", \"#52BB52\"], [1, \"card-body\", \"warning\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-play-circle\", 2, \"color\", \"#E9E16E\"], [1, \"card-body\", \"danger\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-exclamation-circle\", 2, \"color\", \"#CC3712\"], [1, \"example-card\"], [\"id\", \"depchart\", 1, \"first\"], [\"id\", \"themechart\", 1, \"first\"], [\"id\", \"delaychart\", 1, \"first\"], [\"id\", \"delaydepchart\", 1, \"first\"]],\n  template: function KPIComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"link\", 0);\n      i0.ɵɵelementStart(1, \"h2\", 1);\n      i0.ɵɵtext(2, \"Global Monitoring \");\n      i0.ɵɵelement(3, \"i\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"header\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"div\", 5);\n      i0.ɵɵelementStart(7, \"mat-card\", 6);\n      i0.ɵɵelementStart(8, \"mat-card-content\", 7);\n      i0.ɵɵtext(9);\n      i0.ɵɵelement(10, \"i\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 4);\n      i0.ɵɵelementStart(12, \"div\", 9);\n      i0.ɵɵelementStart(13, \"mat-card\", 6);\n      i0.ɵɵelementStart(14, \"mat-card-content\", 7);\n      i0.ɵɵtext(15);\n      i0.ɵɵelement(16, \"i\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 4);\n      i0.ɵɵelementStart(18, \"div\", 11);\n      i0.ɵɵelementStart(19, \"mat-card\", 6);\n      i0.ɵɵelementStart(20, \"mat-card-content\", 7);\n      i0.ɵɵtext(21);\n      i0.ɵɵelement(22, \"i\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"table\");\n      i0.ɵɵelementStart(24, \"tr\");\n      i0.ɵɵelementStart(25, \"td\");\n      i0.ɵɵelementStart(26, \"mat-card\", 13);\n      i0.ɵɵelementStart(27, \"mat-card-content\");\n      i0.ɵɵelementStart(28, \"mat-card-title\");\n      i0.ɵɵtext(29, \"First Chart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(30, \"highcharts-chart\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"td\");\n      i0.ɵɵelementStart(32, \"mat-card\", 13);\n      i0.ɵɵelementStart(33, \"mat-card-content\");\n      i0.ɵɵelementStart(34, \"mat-card-title\");\n      i0.ɵɵtext(35, \"Second Chart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(36, \"highcharts-chart\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"tr\");\n      i0.ɵɵelementStart(38, \"td\");\n      i0.ɵɵelementStart(39, \"mat-card\", 13);\n      i0.ɵɵelementStart(40, \"mat-card-content\");\n      i0.ɵɵelementStart(41, \"mat-card-title\");\n      i0.ɵɵtext(42, \"Third Chart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(43, \"highcharts-chart\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"td\");\n      i0.ɵɵelementStart(45, \"mat-card\", 13);\n      i0.ɵɵelementStart(46, \"mat-card-content\");\n      i0.ɵɵelementStart(47, \"mat-card-title\");\n      i0.ɵɵtext(48, \"Fourth Chart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(49, \"highcharts-chart\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"div\");\n      i0.ɵɵelement(51, \"br\");\n      i0.ɵɵelementStart(52, \"h2\", 1);\n      i0.ɵɵtext(53, \"Detailed Monitoring \");\n      i0.ɵɵelement(54, \"i\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"p\");\n      i0.ɵɵtext(56, \"The charts plotted in this section are representative of your department\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate1(\" \", ctx.done, \"% done \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\" \", ctx.doing, \"% on going \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\" \", ctx.delayed, \"% delayed \");\n    }\n  },\n  directives: [i4.MatCard, i4.MatCardContent, i4.MatCardTitle, i5.HighchartsChartComponent],\n  styles: [\"@import url('https://fonts.googleapis.com/css?family=Montserrat:500');\\r\\n\\r\\n*[_ngcontent-%COMP%]{\\r\\n    box-sizing:border-box;\\r\\n    margin:0;\\r\\n    padding:0;\\r\\n    background-color:whitesmoke;\\r\\n    font-family:'Montserrat',sans-serif;\\r\\n    font-weight:500;\\r\\n    font-size:16px;\\r\\n    color:black;\\r\\n    text-decoration:none;\\r\\n}\\r\\n\\r\\nheader[_ngcontent-%COMP%]{\\r\\n   display:flex;\\r\\n   justify-content: space-between;\\r\\n   align-items: center;\\r\\n   padding: 20px 5%;\\r\\n   \\r\\n}\\r\\n\\r\\n.card[_ngcontent-%COMP%]{\\r\\n   display:inline-block;\\r\\n   \\r\\n}\\r\\n\\r\\nh2[_ngcontent-%COMP%]{\\r\\n   padding:0%;\\r\\n   margin-bottom: 0%;\\r\\n}\\r\\n\\r\\n.card-body[_ngcontent-%COMP%]{\\r\\n   height: 60px;\\r\\n   width: 200px;\\r\\n   \\r\\n}\\r\\n\\r\\n.card-body.sucess[_ngcontent-%COMP%]{\\r\\n   background-color: rgb(82, 187, 82);\\r\\n}\\r\\n\\r\\n.card-body.warning[_ngcontent-%COMP%]{\\r\\n   background-color: rgb(233, 222, 66);\\r\\n}\\r\\n\\r\\n.card-body.danger[_ngcontent-%COMP%]{\\r\\n   background-color: rgb(204, 55, 18);\\r\\n}\\r\\n\\r\\n.title[_ngcontent-%COMP%]{\\r\\n   color: #000;\\r\\n   font-size: 25px;\\r\\n   font-weight: 600;\\r\\n   text-transform: capitalize;\\r\\n  \\r\\n}\\r\\n\\r\\n.inside[_ngcontent-%COMP%]{\\r\\n   background-color: white;\\r\\n}\\r\\n\\r\\n.small-card[_ngcontent-%COMP%]{\\r\\n   background-color: white;\\r\\n}\\r\\n\\r\\n.title[_ngcontent-%COMP%]:after{\\r\\n   content: '';\\r\\n   background-color:#f84018;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\nmat-card[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtwaS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHFFQUFxRTs7QUFFckU7SUFDSSxxQkFBcUI7SUFDckIsUUFBUTtJQUNSLFNBQVM7SUFDVCwyQkFBMkI7SUFDM0IsbUNBQW1DO0lBQ25DLGVBQWU7SUFDZixjQUFjO0lBQ2QsV0FBVztJQUNYLG9CQUFvQjtBQUN4Qjs7QUFDQTtHQUNHLFlBQVk7R0FDWiw4QkFBOEI7R0FDOUIsbUJBQW1CO0dBQ25CLGdCQUFnQjs7QUFFbkI7O0FBQ0E7R0FDRyxvQkFBb0I7O0FBRXZCOztBQUNBO0dBQ0csVUFBVTtHQUNWLGlCQUFpQjtBQUNwQjs7QUFDQTtHQUNHLFlBQVk7R0FDWixZQUFZOztBQUVmOztBQUNBO0dBQ0csa0NBQWtDO0FBQ3JDOztBQUNBO0dBQ0csbUNBQW1DO0FBQ3RDOztBQUNBO0dBQ0csa0NBQWtDO0FBQ3JDOztBQUNBO0dBQ0csV0FBVztHQUNYLGVBQWU7R0FDZixnQkFBZ0I7R0FDaEIsMEJBQTBCOztBQUU3Qjs7QUFDQTtHQUNHLHVCQUF1QjtBQUMxQjs7QUFDQTtHQUNHLHVCQUF1QjtBQUMxQjs7QUFDQTtHQUNHLFdBQVc7R0FDWCx3QkFBd0I7QUFDM0I7O0FBRUEscUJBQXFCOztBQUNwQjtJQUNHLGFBQWE7SUFDYixzQkFBc0I7Q0FDekIiLCJmaWxlIjoia3BpLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0IHVybCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PU1vbnRzZXJyYXQ6NTAwJyk7XHJcblxyXG4qe1xyXG4gICAgYm94LXNpemluZzpib3JkZXItYm94O1xyXG4gICAgbWFyZ2luOjA7XHJcbiAgICBwYWRkaW5nOjA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOndoaXRlc21va2U7XHJcbiAgICBmb250LWZhbWlseTonTW9udHNlcnJhdCcsc2Fucy1zZXJpZjtcclxuICAgIGZvbnQtd2VpZ2h0OjUwMDtcclxuICAgIGZvbnQtc2l6ZToxNnB4O1xyXG4gICAgY29sb3I6YmxhY2s7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246bm9uZTtcclxufVxyXG5oZWFkZXJ7XHJcbiAgIGRpc3BsYXk6ZmxleDtcclxuICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICBwYWRkaW5nOiAyMHB4IDUlO1xyXG4gICBcclxufVxyXG4uY2FyZHtcclxuICAgZGlzcGxheTppbmxpbmUtYmxvY2s7XHJcbiAgIFxyXG59XHJcbmgye1xyXG4gICBwYWRkaW5nOjAlO1xyXG4gICBtYXJnaW4tYm90dG9tOiAwJTtcclxufVxyXG4uY2FyZC1ib2R5e1xyXG4gICBoZWlnaHQ6IDYwcHg7XHJcbiAgIHdpZHRoOiAyMDBweDtcclxuICAgXHJcbn1cclxuLmNhcmQtYm9keS5zdWNlc3N7XHJcbiAgIGJhY2tncm91bmQtY29sb3I6IHJnYig4MiwgMTg3LCA4Mik7XHJcbn1cclxuLmNhcmQtYm9keS53YXJuaW5ne1xyXG4gICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjMzLCAyMjIsIDY2KTtcclxufVxyXG4uY2FyZC1ib2R5LmRhbmdlcntcclxuICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIwNCwgNTUsIDE4KTtcclxufVxyXG4udGl0bGV7XHJcbiAgIGNvbG9yOiAjMDAwO1xyXG4gICBmb250LXNpemU6IDI1cHg7XHJcbiAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG4gIFxyXG59XHJcbi5pbnNpZGV7XHJcbiAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG59XHJcbi5zbWFsbC1jYXJke1xyXG4gICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxufVxyXG4udGl0bGU6YWZ0ZXJ7XHJcbiAgIGNvbnRlbnQ6ICcnO1xyXG4gICBiYWNrZ3JvdW5kLWNvbG9yOiNmODQwMTg7XHJcbn1cclxuXHJcbi8qY2FyZC5jb21wb25lbnQuY3NzKi9cclxuIG1hdC1jYXJkIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gfSJdfQ== */\"]\n});","map":{"version":3,"sources":["C:\\Users\\azer\\Desktop\\Aptiv\\Front\\src\\app\\Dashboard\\kpi\\kpi.component.ts","C:\\Users\\azer\\Desktop\\Aptiv\\Front\\src\\app\\Dashboard\\kpi\\kpi.component.html"],"names":[],"mappings":"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","sourcesContent":["import { ThemeService } from './../../Services/theme.service';\nimport { ActionService } from './../../Services/action.service';\nimport { Department } from './../../classes/department';\nimport { DepartmentService } from './../../Services/department.service';\n\nimport { Component, OnInit } from '@angular/core';\nimport * as Highcharts from 'highcharts';\nimport { Action } from 'src/app/classes/action';\nimport { stringify } from '@angular/compiler/src/util';\nimport { Theme } from 'src/app/classes/theme';\nimport { PieController } from 'chart.js';\n\n\n@Component({\n  selector: 'app-kpi',\n  templateUrl: './kpi.component.html',\n  styleUrls: ['./kpi.component.css']\n})\nexport class KPIComponent implements OnInit {\n\n  //Overall rating\n  done: number = 0;\n  doing: number = 0;\n  delayed: number = 0;\n  //departments graph\n  departments: Department[] = [];\n  DNames: string[] = [];\n  Ddone: number[] = [];\n  Ddoing: number[] = [];\n  Ddelayed: number[] = [];\n  Dactions: Action[] = [];\n\n  //themes graph\n  themes: Theme[] = [];\n  TNames: string[] = [];\n  Tprogress: number[] = [];\n  Tactions: Action[] = [];\n\n  //delay Chart\n  actions: Action[] = [];\n  ontime: number = 0;\n  second: number = 0;\n  third: number = 0;\n  Dontime: number[] = [];\n  Dsecond: number[] = [];\n  Dthird: number[] = [];\n  depNames: string[] = [];\n  dontime: number = 0;\n  dsecond: number = 0;\n  dthird: number = 0;\n  //let's set the colors firs\n  red = \"#CC3712\";\n  green = \"#52BB52\";\n  yellow = \"#E9E16E\"\n  highcharts = Highcharts;\n  Options: Highcharts.Options = {\n    chart: {\n      height: 350,\n      width: 700\n    },\n    title: {\n      text: \"Average Temprature\"\n    },\n    xAxis: {\n      title: {\n        text: 'Tokyo'\n      },\n      categories: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\n        \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n    },\n    yAxis: {\n      title: {\n        text: \"Temprature\"\n      }\n    }, series: [{\n      data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 24.4, 19.3, 16.0, 18.4, 17.9],\n      type: 'spline'\n    }]\n  };\n\n\n\n  //Progress per theme chart\n  themechart = Highcharts;\n  themeOptions: Highcharts.Options = {\n\n  }\n\n  constructor(private departmentService: DepartmentService, private actionService: ActionService, private themeService: ThemeService,) {\n\n\n\n  }\n\n  async ngOnInit(): Promise<void> {\n\n    //Execution rate per department\n    this.departments = await this.departmentService.getDepartments().toPromise();\n    for (let dep of this.departments) {\n      this.DNames.push((dep.name).toString());\n      this.Dactions = await this.actionService.getActionsByDepartment(dep.name).toPromise();\n      this.Ddone.push(\n        this.Dactions.filter(\n          res => {\n            return (res.Status.toLocaleLowerCase().match(\"done\"))\n          }).length / (this.Dactions.length)\n      );\n      this.Ddoing.push(\n        this.Dactions.filter(\n          res => {\n            return (res.Status.toLocaleLowerCase().match(\"doing\"))\n          }).length / (this.Dactions.length)\n      );\n      this.Ddelayed.push(\n        this.Dactions.filter(\n          res => {\n            return (res.Status.toLocaleLowerCase().match(\"delayed\"))\n          }).length / (this.Dactions.length)\n      );\n\n      console.log(this.Ddoing);\n      console.log(this.Ddelayed);\n      console.log(this.DNames);\n      console.log(this.Ddone);\n\n    }\n    this.barChartdepartments();\n\n    //actionplan execution rate per theme \n    this.themes = await this.themeService.getThemes().toPromise();\n    for (let theme of this.themes) {\n      this.TNames.push((theme.name).toString());\n      for (let actionplan of theme.actionplans) {\n        for (let action of actionplan.actions) {\n          this.Tactions.push(action);\n        }\n      }\n      this.Tprogress.push(this.CalculateProgress(this.Tactions));\n    }\n    this.barChartthemes();\n\n    //delaychart\n    this.actions = await this.actionService.getActions().toPromise();\n    console.group(this.actions);\n    for (let action of this.actions) {\n      if (action.Status === \"done\" && action.SecondDueDate === null && action.ThirdDueDate === null) {\n        this.ontime = this.ontime + 1;\n      } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n        this.second += 1;\n      } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n        this.third += 1;\n      }\n    }\n    this.barChartdelay();\n\n    //delay per Department\n    for (let department of this.departments) {\n      let depontime = 0;\n      let depsecond = 0;\n      let depthird = 0;\n      this.depNames.push(department.name.toString());\n      let actiondep = await this.actionService.getActionsByDepartment(department.name).toPromise();\n      for (let action of actiondep) {\n        if (action.Status === \"done\" && action.SecondDueDate === null && action.ThirdDueDate === null) {\n          depontime += 1;\n        } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n          depsecond += 1;\n        } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n          depthird += 1;\n        }\n      }\n      let nb = actiondep.filter(action => {\n        return (action.Status.toLowerCase().match(\"done\"))\n      }).length;\n      this.Dontime.push(depontime / nb);\n      this.Dsecond.push(depsecond / nb);\n      this.Dthird.push(depthird / nb);\n    }\n    this.barChartdelaydep();\n\n\n    this.done = this.actions.filter(res => {\n      return (res.Status.toLowerCase().match(\"done\"))\n    }).length / (this.actions.length)\n    this.doneDonutChart();\n\n    this.doing = this.actions.filter(res => {\n      return (res.Status.toLowerCase().match(\"doing\"))\n    }).length / (this.actions.length)\n    this.doingDonutChart();\n\n    this.delayed = this.actions.filter(res => {\n      return (res.Status.toLowerCase().match(\"delayed\"))\n    }).length / (this.actions.length)\n    this.delayedDonutChart();\n  }\n\n\n  delayedDonutChart() {\n    Highcharts.chart( {\n      chart: {\n        renderTo:'delayeddonut',\n        plotBorderWidth: 0,\n        plotShadow: false,\n        height:'40px',\n        width:'60px'\n      },\n     title: {\n        text: 'Browser<br>shares<br>2017',\n        align: 'center',\n        verticalAlign: 'middle',\n        y: 40\n      },\n      tooltip: {\n        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n      },\n      plotOptions: {\n        pie: {\n          dataLabels: {\n            enabled: true,\n            distance: -50,\n            style: {\n              fontWeight: 'bold',\n              color: 'white'\n            }\n          },\n          startAngle: -90,\n          endAngle: 90,\n          center: ['50%', '75%'],\n          size: '50%'\n        }\n      },\n      series: [{\n        type: 'pie',\n        innerSize: '50%',\n        data: [\n          ['done', this.done],\n          ['doing', this.doing],\n          ['delayed', this.delayed]\n          \n          \n        ]\n      }]\n    });\n  }\n\n\n\n  doingDonutChart() {\n\n  }\n  doneDonutChart() {\n\n  }\n\n\n\n  barChartdelaydep() {\n    Highcharts.chart('delaydepchart', {\n      chart: {\n        type: 'column',\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: 'Execution Rate /Department'\n      },\n      subtitle: {\n        text: 'Only done action are taking into consideration here'\n      },\n      xAxis: {\n        categories: this.depNames,\n        crosshair: true\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: 'Rainfall (mm)'\n        }\n      },\n      tooltip: {\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' +\n          '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          pointPadding: 0.2,\n          borderWidth: 0\n        }\n      },\n      series: [{\n        name: 'On time',\n        type: 'column',\n        data: this.Dontime,\n        color: this.green\n\n      }, {\n        name: 'With 2nd due date',\n        type: 'column',\n        data: this.Dsecond,\n        color: this.yellow\n      }, {\n        name: 'With 3rd due date',\n        type: 'column',\n        data: this.Dthird,\n        color: this.red\n      }]\n    });\n\n\n  }\n\n\n\n  barChartdelay() {\n    Highcharts.chart('delaychart', {\n      chart: {\n        type: 'column',\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: 'Execution Rate'\n      },\n      subtitle: {\n        text: 'all actions are considered in this chart'\n      },\n      xAxis: {\n        categories: ['On time', 'With 2nd due date', 'With 3rd due date'],//tables of theme names\n        crosshair: true\n\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: 'Rainfall (mm)'\n        }\n      },\n      tooltip: {\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' +\n          '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          pointPadding: 0.2,\n          borderWidth: 0\n        }\n      },\n      series: [{\n        name: 'On time',\n        type: 'column',\n        data: [this.ontime / this.actions.length, this.second / this.actions.length, this.third / this.actions.length]\n\n      }]\n    })\n  }\n\n\n  barChartthemes() {\n    Highcharts.chart('themechart', {\n      chart: {\n        type: 'column',\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: 'Action plan progress per theme '\n      },\n      subtitle: {\n        text: 'Evaluation metric is set to progress rate'\n      },\n      xAxis: {\n        categories: this.TNames,//tables of theme names\n        crosshair: true\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: 'Progress (%)'\n        }\n      },\n      tooltip: {\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' +\n          '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          pointPadding: 0.2,\n          borderWidth: 0\n        }\n      },\n      series: [{\n        name: 'Progress rate',\n        type: 'column',\n        data: this.Tprogress //progress rate for every theme\n\n      }]\n    })\n  }\n\n  barChartdepartments() {\n    Highcharts.chart('depchart', {\n      chart: {\n        type: 'column',\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: 'Monthly Average Rainfall'\n      },\n      subtitle: {\n        text: 'Source: WorldClimate.com'\n      },\n      xAxis: {\n        categories: this.DNames,\n        crosshair: true\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: 'Rainfall (mm)'\n        }\n      },\n      tooltip: {\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' +\n          '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          pointPadding: 0.2,\n          borderWidth: 0\n        }\n      },\n      series: [{\n        name: 'Done',\n        type: 'column',\n        data: this.Ddone,\n        color: this.green\n\n      }, {\n        name: 'Doing',\n        type: 'column',\n        data: this.Ddoing,\n        color: this.yellow\n      }, {\n        name: 'Delayed',\n        type: 'column',\n        data: this.Ddelayed,\n        color: this.red\n      }]\n    });\n\n\n  }\n  CalculateProgress(list: Action[]): number {\n    let rates: number[] = [];\n    for (let action of list) {\n      rates.push(parseInt(action.Progress.replace('%', '').replace(' ', '')));\n    }\n    return ((rates.reduce((a, b) => a + b)) / rates.length)\n  }\n\n  //execution rate per department chart\n  //newchart = Highcharts;\n  //newOptions: Highcharts.Options = {\n  //  chart: {\n\n  //}\n\n}\n","<!--<highcharts-chart class=\"first\" [Highcharts]=\"highcharts\" [options]=\"chartOptions\">\r\n</highcharts-chart>!-->\r\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\r\n\r\n<h2 class=\"title\">Global Monitoring <i class=\"fa fa-line-chart\" aria-hidden=\"true\"></i></h2>\r\n\r\n<header class=\"navbar\">\r\n\r\n   <div class=\"card\">\r\n      \r\n      <div class=\"card-body sucess\">\r\n         <mat-card class=\"small-card\">\r\n\r\n            <mat-card-content class=\"inside\" style=\"font-weight: bold; text-align: center;\">\r\n                {{done}}% done  <i class=\"fa fa-check-circle\" aria-hidden=\"true\" style=\"color: #52BB52;\"></i>\r\n            </mat-card-content>\r\n            \r\n         </mat-card>\r\n      </div>\r\n   </div>\r\n\r\n   <div class=\"card\">\r\n\r\n      <div class=\"card-body warning\">\r\n         <mat-card class=\"small-card\" >\r\n\r\n            <mat-card-content class=\"inside\"style=\"font-weight: bold; text-align: center;\"> \r\n               {{doing}}% on going <i class=\"fa fa-play-circle\" aria-hidden=\"true\"style=\"color:#E9E16E;\"></i>\r\n            </mat-card-content>\r\n\r\n         </mat-card>\r\n      </div>\r\n   </div>\r\n\r\n   <div class=\"card\">\r\n\r\n      <div class=\"card-body danger\">\r\n         <mat-card class=\"small-card\" >\r\n\r\n            <mat-card-content class=\"inside\" style=\"font-weight: bold; text-align: center;\">\r\n               {{delayed}}% delayed <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\" style=\"color:#CC3712;\"></i>\r\n            </mat-card-content>\r\n\r\n         </mat-card>\r\n      </div>  \r\n      \r\n   </div>\r\n</header>\r\n<table>\r\n\r\n   <tr>\r\n\r\n      <td>\r\n\r\n         <mat-card class=\"example-card\">\r\n            <mat-card-content>\r\n               <mat-card-title>First Chart</mat-card-title>\r\n               <highcharts-chart class=\"first\" id=\"depchart\">\r\n               </highcharts-chart>\r\n            </mat-card-content>\r\n\r\n         </mat-card>\r\n      </td>\r\n\r\n      <td>\r\n         <mat-card class=\"example-card\">\r\n            <mat-card-content>\r\n               <mat-card-title>Second Chart</mat-card-title>\r\n               <highcharts-chart class=\"first\" id=\"themechart\">\r\n               </highcharts-chart>\r\n            </mat-card-content>\r\n\r\n         </mat-card>\r\n      </td>\r\n\r\n   </tr>\r\n\r\n   <tr>\r\n\r\n      <td>\r\n\r\n         <mat-card class=\"example-card\">\r\n            <mat-card-content>\r\n               <mat-card-title>Third Chart</mat-card-title>\r\n               <highcharts-chart class=\"first\" id=\"delaychart\">\r\n               </highcharts-chart>\r\n            </mat-card-content>\r\n\r\n         </mat-card>\r\n      </td>\r\n\r\n      <td>\r\n         <mat-card class=\"example-card\">\r\n            <mat-card-content>\r\n               <mat-card-title>Fourth Chart</mat-card-title>\r\n               <highcharts-chart class=\"first\" id=\"delaydepchart\">\r\n               </highcharts-chart>\r\n            </mat-card-content>\r\n\r\n         </mat-card>\r\n      </td>\r\n\r\n   </tr>\r\n</table>\r\n<div> <br>\r\n<h2 class=\"title\">Detailed Monitoring <i class=\"fa fa-line-chart\" aria-hidden=\"true\"></i></h2>\r\n<p>The charts plotted in this section are representative of your department</p>\r\n</div>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}