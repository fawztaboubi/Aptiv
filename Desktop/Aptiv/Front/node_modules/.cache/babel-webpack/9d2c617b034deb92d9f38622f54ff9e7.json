{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/azer/Desktop/Aptiv/Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport * as Highcharts from 'highcharts';\nlet KPIComponent = class KPIComponent {\n  constructor(departmentService, actionService, themeService) {\n    this.departmentService = departmentService;\n    this.actionService = actionService;\n    this.themeService = themeService; //Overall rating\n\n    this.done = 0;\n    this.doing = 0;\n    this.delayed = 0; //departments graph\n\n    this.departments = [];\n    this.DNames = [];\n    this.Ddone = [];\n    this.Ddoing = [];\n    this.Ddelayed = [];\n    this.Dactions = []; //themes graph\n\n    this.themes = [];\n    this.TNames = [];\n    this.Tprogress = [];\n    this.Tactions = []; //delay Chart\n\n    this.actions = [];\n    this.ontime = 0;\n    this.second = 0;\n    this.third = 0;\n    this.Dontime = [];\n    this.Dsecond = [];\n    this.Dthird = [];\n    this.depNames = [];\n    this.dontime = 0;\n    this.dsecond = 0;\n    this.dthird = 0; //let's set the colors firs\n\n    this.red = \"#CC3712\";\n    this.green = \"#52BB52\";\n    this.yellow = \"#E9E16E\";\n    this.highcharts = Highcharts;\n    this.Options = {\n      chart: {\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: \"Average Temprature\"\n      },\n      xAxis: {\n        title: {\n          text: 'Tokyo'\n        },\n        categories: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n      },\n      yAxis: {\n        title: {\n          text: \"Temprature\"\n        }\n      },\n      series: [{\n        data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 24.4, 19.3, 16.0, 18.4, 17.9],\n        type: 'spline'\n      }]\n    }; //Progress per theme chart\n\n    this.themechart = Highcharts;\n    this.themeOptions = {};\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      //Execution rate per department\n      _this.departments = yield _this.departmentService.getDepartments().toPromise();\n\n      for (let dep of _this.departments) {\n        _this.DNames.push(dep.name.toString());\n\n        _this.Dactions = yield _this.actionService.getActionsByDepartment(dep.name).toPromise();\n\n        _this.Ddone.push(_this.Dactions.filter(res => {\n          return res.Status.toLocaleLowerCase().match(\"done\");\n        }).length / _this.Dactions.length);\n\n        _this.Ddoing.push(_this.Dactions.filter(res => {\n          return res.Status.toLocaleLowerCase().match(\"doing\");\n        }).length / _this.Dactions.length);\n\n        _this.Ddelayed.push(_this.Dactions.filter(res => {\n          return res.Status.toLocaleLowerCase().match(\"delayed\");\n        }).length / _this.Dactions.length);\n\n        console.log(_this.Ddoing);\n        console.log(_this.Ddelayed);\n        console.log(_this.DNames);\n        console.log(_this.Ddone);\n      }\n\n      _this.barChartdepartments(); //actionplan execution rate per theme \n\n\n      _this.themes = yield _this.themeService.getThemes().toPromise();\n\n      for (let theme of _this.themes) {\n        _this.TNames.push(theme.name.toString());\n\n        for (let actionplan of theme.actionplans) {\n          for (let action of actionplan.actions) {\n            _this.Tactions.push(action);\n          }\n        }\n\n        _this.Tprogress.push(_this.CalculateProgress(_this.Tactions));\n      }\n\n      _this.barChartthemes(); //delaychart\n\n\n      _this.actions = yield _this.actionService.getActions().toPromise();\n      console.group(_this.actions);\n\n      for (let action of _this.actions) {\n        if (action.Status === \"done\" && action.SecondDueDate === null && action.ThirdDueDate === null) {\n          _this.ontime = _this.ontime + 1;\n        } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n          _this.second += 1;\n        } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n          _this.third += 1;\n        }\n      }\n\n      _this.barChartdelay(); //delay per Department\n\n\n      for (let department of _this.departments) {\n        let depontime = 0;\n        let depsecond = 0;\n        let depthird = 0;\n\n        _this.depNames.push(department.name.toString());\n\n        let actiondep = yield _this.actionService.getActionsByDepartment(department.name).toPromise();\n\n        for (let action of actiondep) {\n          if (action.Status === \"done\" && action.SecondDueDate === null && action.ThirdDueDate === null) {\n            depontime += 1;\n          } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n            depsecond += 1;\n          } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n            depthird += 1;\n          }\n        }\n\n        let nb = actiondep.filter(action => {\n          return action.Status.toLowerCase().match(\"done\");\n        }).length;\n\n        _this.Dontime.push(depontime / nb);\n\n        _this.Dsecond.push(depsecond / nb);\n\n        _this.Dthird.push(depthird / nb);\n      }\n\n      _this.barChartdelaydep();\n\n      _this.done = _this.actions.filter(res => {\n        return res.Status.toLowerCase().match(\"done\");\n      }).length / _this.actions.length;\n\n      _this.doneDonutChart();\n\n      _this.doing = _this.actions.filter(res => {\n        return res.Status.toLowerCase().match(\"doing\");\n      }).length / _this.actions.length;\n\n      _this.doingDonutChart();\n\n      _this.delayed = _this.actions.filter(res => {\n        return res.Status.toLowerCase().match(\"delayed\");\n      }).length / _this.actions.length;\n\n      _this.delayedDonutChart();\n    })();\n  }\n\n  delayedDonutChart() {}\n\n  doingDonutChart() {}\n\n  doneDonutChart() {}\n\n  barChartdelaydep() {\n    Highcharts.chart('delaydepchart', {\n      chart: {\n        type: 'column',\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: 'Execution Rate /Department'\n      },\n      subtitle: {\n        text: 'Only done action are taking into consideration here'\n      },\n      xAxis: {\n        categories: this.depNames,\n        crosshair: true\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: 'Rainfall (mm)'\n        }\n      },\n      tooltip: {\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' + '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          pointPadding: 0.2,\n          borderWidth: 0\n        }\n      },\n      series: [{\n        name: 'On time',\n        type: 'column',\n        data: this.Dontime,\n        color: this.green\n      }, {\n        name: 'With 2nd due date',\n        type: 'column',\n        data: this.Dsecond,\n        color: this.yellow\n      }, {\n        name: 'With 3rd due date',\n        type: 'column',\n        data: this.Dthird,\n        color: this.red\n      }]\n    });\n  }\n\n  barChartdelay() {\n    Highcharts.chart('delaychart', {\n      chart: {\n        type: 'column',\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: 'Execution Rate'\n      },\n      subtitle: {\n        text: 'all actions are considered in this chart'\n      },\n      xAxis: {\n        categories: ['On time', 'With 2nd due date', 'With 3rd due date'],\n        crosshair: true\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: 'Rainfall (mm)'\n        }\n      },\n      tooltip: {\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' + '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          pointPadding: 0.2,\n          borderWidth: 0\n        }\n      },\n      series: [{\n        name: 'On time',\n        type: 'column',\n        data: [this.ontime / this.actions.length, this.second / this.actions.length, this.third / this.actions.length]\n      }]\n    });\n  }\n\n  barChartthemes() {\n    Highcharts.chart('themechart', {\n      chart: {\n        type: 'column',\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: 'Action plan progress per theme '\n      },\n      subtitle: {\n        text: 'Evaluation metric is set to progress rate'\n      },\n      xAxis: {\n        categories: this.TNames,\n        crosshair: true\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: 'Progress (%)'\n        }\n      },\n      tooltip: {\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' + '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          pointPadding: 0.2,\n          borderWidth: 0\n        }\n      },\n      series: [{\n        name: 'Progress rate',\n        type: 'column',\n        data: this.Tprogress //progress rate for every theme\n\n      }]\n    });\n  }\n\n  barChartdepartments() {\n    Highcharts.chart('depchart', {\n      chart: {\n        type: 'column',\n        height: 350,\n        width: 700\n      },\n      title: {\n        text: 'Monthly Average Rainfall'\n      },\n      subtitle: {\n        text: 'Source: WorldClimate.com'\n      },\n      xAxis: {\n        categories: this.DNames,\n        crosshair: true\n      },\n      yAxis: {\n        min: 0,\n        title: {\n          text: 'Rainfall (mm)'\n        }\n      },\n      tooltip: {\n        headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n        pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' + '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n        footerFormat: '</table>',\n        shared: true,\n        useHTML: true\n      },\n      plotOptions: {\n        column: {\n          pointPadding: 0.2,\n          borderWidth: 0\n        }\n      },\n      series: [{\n        name: 'Done',\n        type: 'column',\n        data: this.Ddone,\n        color: this.green\n      }, {\n        name: 'Doing',\n        type: 'column',\n        data: this.Ddoing,\n        color: this.yellow\n      }, {\n        name: 'Delayed',\n        type: 'column',\n        data: this.Ddelayed,\n        color: this.red\n      }]\n    });\n  }\n\n  CalculateProgress(list) {\n    let rates = [];\n\n    for (let action of list) {\n      rates.push(parseInt(action.Progress.replace('%', '').replace(' ', '')));\n    }\n\n    return rates.reduce((a, b) => a + b) / rates.length;\n  }\n\n};\nKPIComponent = __decorate([Component({\n  selector: 'app-kpi',\n  templateUrl: './kpi.component.html',\n  styleUrls: ['./kpi.component.css']\n})], KPIComponent);\nexport { KPIComponent };","map":{"version":3,"sources":["C:\\Users\\azer\\Desktop\\Aptiv\\Front\\src\\app\\Dashboard\\kpi\\kpi.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { ThemeService } from './../../Services/theme.service';\nimport { ActionService } from './../../Services/action.service';\nimport { Department } from './../../classes/department';\nimport { DepartmentService } from './../../Services/department.service';\n\nimport { Component, OnInit } from '@angular/core';\nimport * as Highcharts from 'highcharts';\nimport { Action } from 'src/app/classes/action';\nimport { stringify } from '@angular/compiler/src/util';\nimport { Theme } from 'src/app/classes/theme';\nimport { PieController } from 'chart.js';\n\n\n@Component({\n  selector: 'app-kpi',\n  templateUrl: './kpi.component.html',\n  styleUrls: ['./kpi.component.css']\n})\nexport class KPIComponent implements OnInit {\n\n  //Overall rating\n  done: number = 0;\n  doing: number = 0;\n  delayed: number = 0;\n  //departments graph\n  departments: Department[] = [];\n  DNames: string[] = [];\n  Ddone: number[] = [];\n  Ddoing: number[] = [];\n  Ddelayed: number[] = [];\n  Dactions: Action[] = [];\n\n  //themes graph\n  themes: Theme[] = [];\n  TNames: string[] = [];\n  Tprogress: number[] = [];\n  Tactions: Action[] = [];\n\n  //delay Chart\n  actions: Action[] = [];\n  ontime: number = 0;\n  second: number = 0;\n  third: number = 0;\n  Dontime: number[] = [];\n  Dsecond: number[] = [];\n  Dthird: number[] = [];\n  depNames: string[] = [];\n  dontime: number = 0;\n  dsecond: number = 0;\n  dthird: number = 0;\n  //let's set the colors firs\n  red = \"#CC3712\";\n  green = \"#52BB52\";\n  yellow = \"#E9E16E\"\n  highcharts = Highcharts;\n  Options: Highcharts.Options = {\n    chart: {\n      height: 350,\n      width: 700\n    },\n    title: {\n      text: \"Average Temprature\"\n    },\n    xAxis: {\n      title: {\n        text: 'Tokyo'\n      },\n      categories: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\n        \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n    },\n    yAxis: {\n      title: {\n        text: \"Temprature\"\n      }\n    }, series: [{\n      data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 24.4, 19.3, 16.0, 18.4, 17.9],\n      type: 'spline'\n    }]\n  };\n\n\n\n  //Progress per theme chart\n  themechart = Highcharts;\n  themeOptions: Highcharts.Options = {\n\n  }\n\n  constructor(private departmentService: DepartmentService, private actionService: ActionService, private themeService: ThemeService,) {\n\n\n\n  }\n\n  async ngOnInit(): Promise<void> {\n\n    //Execution rate per department\n    this.departments = await this.departmentService.getDepartments().toPromise();\n    for (let dep of this.departments) {\n      this.DNames.push((dep.name).toString());\n      this.Dactions = await this.actionService.getActionsByDepartment(dep.name).toPromise();\n      this.Ddone.push(\n        this.Dactions.filter(\n          res => {\n            return (res.Status.toLocaleLowerCase().match(\"done\"))\n          }).length / (this.Dactions.length)\n      );\n      this.Ddoing.push(\n        this.Dactions.filter(\n          res => {\n            return (res.Status.toLocaleLowerCase().match(\"doing\"))\n          }).length / (this.Dactions.length)\n      );\n      this.Ddelayed.push(\n        this.Dactions.filter(\n          res => {\n            return (res.Status.toLocaleLowerCase().match(\"delayed\"))\n          }).length / (this.Dactions.length)\n      );\n\n      console.log(this.Ddoing);\n      console.log(this.Ddelayed);\n      console.log(this.DNames);\n      console.log(this.Ddone);\n\n    }\n    this.barChartdepartments();\n\n    //actionplan execution rate per theme \n    this.themes = await this.themeService.getThemes().toPromise();\n    for (let theme of this.themes) {\n      this.TNames.push((theme.name).toString());\n      for (let actionplan of theme.actionplans) {\n        for (let action of actionplan.actions) {\n          this.Tactions.push(action);\n        }\n      }\n      this.Tprogress.push(this.CalculateProgress(this.Tactions));\n    }\n    this.barChartthemes();\n\n    //delaychart\n    this.actions = await this.actionService.getActions().toPromise();\n    console.group(this.actions);\n    for (let action of this.actions) {\n      if (action.Status === \"done\" && action.SecondDueDate === null && action.ThirdDueDate === null) {\n        this.ontime = this.ontime + 1;\n      } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n        this.second += 1;\n      } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n        this.third += 1;\n      }\n    }\n    this.barChartdelay();\n\n    //delay per Department\n    for (let department of this.departments) {\n      let depontime = 0;\n      let depsecond = 0;\n      let depthird = 0;\n      this.depNames.push(department.name.toString());\n      let actiondep = await this.actionService.getActionsByDepartment(department.name).toPromise();\n      for (let action of actiondep) {\n        if (action.Status === \"done\" && action.SecondDueDate === null && action.ThirdDueDate === null) {\n          depontime += 1;\n        } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n          depsecond += 1;\n        } else if (action.Status === \"done\" && action.SecondDueDate !== null && action.ThirdDueDate === null) {\n          depthird += 1;\n        }\n      }\n      let nb = actiondep.filter(action => {\n        return (action.Status.toLowerCase().match(\"done\"))\n      }).length;\n      this.Dontime.push(depontime / nb);\n      this.Dsecond.push(depsecond / nb);\n      this.Dthird.push(depthird / nb);\n    }\n    this.barChartdelaydep();\n\n\n    this.done = this.actions.filter(res => {\n      return (res.Status.toLowerCase().match(\"done\"))\n    }).length / (this.actions.length)\n    this.doneDonutChart();\n\n    this.doing = this.actions.filter(res => {\n      return (res.Status.toLowerCase().match(\"doing\"))\n    }).length / (this.actions.length)\n    this.doingDonutChart();\n\n    this.delayed = this.actions.filter(res => {\n      return (res.Status.toLowerCase().match(\"delayed\"))\n    }).length / (this.actions.length)\n    this.delayedDonutChart();\n  }\n\n\n  delayedDonutChart() {\n\n}\n\n\n\ndoingDonutChart() {\n  \n}\ndoneDonutChart() {\n  \n}\n\n\n\nbarChartdelaydep() {\n  Highcharts.chart('delaydepchart', {\n    chart: {\n      type: 'column',\n      height: 350,\n      width: 700\n    },\n    title: {\n      text: 'Execution Rate /Department'\n    },\n    subtitle: {\n      text: 'Only done action are taking into consideration here'\n    },\n    xAxis: {\n      categories: this.depNames,\n      crosshair: true\n    },\n    yAxis: {\n      min: 0,\n      title: {\n        text: 'Rainfall (mm)'\n      }\n    },\n    tooltip: {\n      headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n      pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' +\n        '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n      footerFormat: '</table>',\n      shared: true,\n      useHTML: true\n    },\n    plotOptions: {\n      column: {\n        pointPadding: 0.2,\n        borderWidth: 0\n      }\n    },\n    series: [{\n      name: 'On time',\n      type: 'column',\n      data: this.Dontime,\n      color: this.green\n\n    }, {\n      name: 'With 2nd due date',\n      type: 'column',\n      data: this.Dsecond,\n      color: this.yellow\n    }, {\n      name: 'With 3rd due date',\n      type: 'column',\n      data: this.Dthird,\n      color: this.red\n    }]\n  });\n\n\n}\n\n\n\nbarChartdelay() {\n  Highcharts.chart('delaychart', {\n    chart: {\n      type: 'column',\n      height: 350,\n      width: 700\n    },\n    title: {\n      text: 'Execution Rate'\n    },\n    subtitle: {\n      text: 'all actions are considered in this chart'\n    },\n    xAxis: {\n      categories: ['On time', 'With 2nd due date', 'With 3rd due date'],//tables of theme names\n      crosshair: true\n\n    },\n    yAxis: {\n      min: 0,\n      title: {\n        text: 'Rainfall (mm)'\n      }\n    },\n    tooltip: {\n      headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n      pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' +\n        '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n      footerFormat: '</table>',\n      shared: true,\n      useHTML: true\n    },\n    plotOptions: {\n      column: {\n        pointPadding: 0.2,\n        borderWidth: 0\n      }\n    },\n    series: [{\n      name: 'On time',\n      type: 'column',\n      data: [this.ontime / this.actions.length, this.second / this.actions.length, this.third / this.actions.length]\n\n    }]\n  })\n}\n\n\nbarChartthemes() {\n  Highcharts.chart('themechart', {\n    chart: {\n      type: 'column',\n      height: 350,\n      width: 700\n    },\n    title: {\n      text: 'Action plan progress per theme '\n    },\n    subtitle: {\n      text: 'Evaluation metric is set to progress rate'\n    },\n    xAxis: {\n      categories: this.TNames,//tables of theme names\n      crosshair: true\n    },\n    yAxis: {\n      min: 0,\n      title: {\n        text: 'Progress (%)'\n      }\n    },\n    tooltip: {\n      headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n      pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' +\n        '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n      footerFormat: '</table>',\n      shared: true,\n      useHTML: true\n    },\n    plotOptions: {\n      column: {\n        pointPadding: 0.2,\n        borderWidth: 0\n      }\n    },\n    series: [{\n      name: 'Progress rate',\n      type: 'column',\n      data: this.Tprogress //progress rate for every theme\n\n    }]\n  })\n}\n\nbarChartdepartments() {\n  Highcharts.chart('depchart', {\n    chart: {\n      type: 'column',\n      height: 350,\n      width: 700\n    },\n    title: {\n      text: 'Monthly Average Rainfall'\n    },\n    subtitle: {\n      text: 'Source: WorldClimate.com'\n    },\n    xAxis: {\n      categories: this.DNames,\n      crosshair: true\n    },\n    yAxis: {\n      min: 0,\n      title: {\n        text: 'Rainfall (mm)'\n      }\n    },\n    tooltip: {\n      headerFormat: '<span style=\"font-size:10px\">{point.key}</span><table>',\n      pointFormat: '<tr><td style=\"color:{series.color};padding:0\">{series.name}: </td>' +\n        '<td style=\"padding:0\"><b>{point.y:.1f} %</b></td></tr>',\n      footerFormat: '</table>',\n      shared: true,\n      useHTML: true\n    },\n    plotOptions: {\n      column: {\n        pointPadding: 0.2,\n        borderWidth: 0\n      }\n    },\n    series: [{\n      name: 'Done',\n      type: 'column',\n      data: this.Ddone,\n      color: this.green\n\n    }, {\n      name: 'Doing',\n      type: 'column',\n      data: this.Ddoing,\n      color: this.yellow\n    }, {\n      name: 'Delayed',\n      type: 'column',\n      data: this.Ddelayed,\n      color: this.red\n    }]\n  });\n\n\n}\nCalculateProgress(list: Action[]): number {\n  let rates: number[] = [];\n  for (let action of list) {\n    rates.push(parseInt(action.Progress.replace('%', '').replace(' ', '')));\n  }\n  return ((rates.reduce((a, b) => a + b)) / rates.length)\n}\n\n  //execution rate per department chart\n  //newchart = Highcharts;\n  //newOptions: Highcharts.Options = {\n  //  chart: {\n\n  //}\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}