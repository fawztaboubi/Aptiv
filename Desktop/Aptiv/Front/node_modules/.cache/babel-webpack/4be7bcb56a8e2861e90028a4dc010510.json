{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/azer/Desktop/Aptiv/Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Request } from 'src/app/classes/request';\nimport { NewUserComponent } from './new-user/new-user.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../Services/request.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"src/app/Services/user.service\";\nimport * as i4 from \"@angular/common\";\n\nfunction JointeamComponent_body_1_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵelementStart(3, \"header\");\n    i0.ɵɵelementStart(4, \"h2\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementStart(6, \"i\", 10);\n    i0.ɵɵlistener(\"click\", function JointeamComponent_body_1_div_5_Template_i_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const request_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.refuseRequest(request_r4);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 11);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10, \"Some text that describes me lorem ipsum ipsum lorem.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\");\n    i0.ɵɵelementStart(14, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function JointeamComponent_body_1_div_5_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const request_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.openDialog(request_r4);\n    });\n    i0.ɵɵtext(15, \"Approve\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const request_r4 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", request_r4.Name, \" \", request_r4.FamilyName, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(request_r4.Job);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(request_r4.Email);\n  }\n}\n\nfunction JointeamComponent_body_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"body\");\n    i0.ɵɵelementStart(1, \"h2\", 3);\n    i0.ɵɵtext(2, \"Requests On Hold\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵtemplate(5, JointeamComponent_body_1_div_5_Template, 16, 4, \"div\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.requests);\n  }\n}\n\nfunction JointeamComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nconst _c0 = function () {\n  return [];\n};\n\nexport class JointeamComponent {\n  constructor(requestService, matDialog, userService) {\n    this.requestService = requestService;\n    this.matDialog = matDialog;\n    this.userService = userService; //get request from backend\n    //how to add pop up in angular\n\n    this.requests = [];\n    this.newrequest = new Request();\n    this.refusedRequest = new Request();\n    this.users = [];\n    this.title = '';\n    this.test = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.retrieveRequests();\n\n      _this.users = yield _this.userService.getUsers().toPromise();\n      console.log(_this.users);\n    })();\n  }\n\n  retrieveRequests() {\n    this.requestService.getRequests().subscribe(data => {\n      this.requests = data.filter(request => {\n        var _a;\n\n        return (_a = request.Status) === null || _a === void 0 ? void 0 : _a.toLocaleLowerCase().match('onhold');\n      });\n      console.log(data);\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  openDialog(request) {\n    let dialogRef = this.matDialog.open(NewUserComponent, {\n      width: '700px'\n    });\n    sessionStorage.setItem('approved-request', JSON.stringify(request));\n    dialogRef.afterClosed().subscribe(result => {});\n  }\n\n  updateApprovedRequest(request) {\n    this.newrequest = request;\n    console.log(this.newrequest);\n    this.newrequest.Status = \"refused\";\n    this.requestService.updateRequest(request.Id, this.newrequest).subscribe();\n  }\n\n  refuseRequest(request) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.refusedRequest.Status = \"refused\";\n      _this2.refusedRequest.Name = request.Name;\n      _this2.refusedRequest.FamilyName = request.FamilyName;\n      _this2.refusedRequest.Job = request.Job;\n      _this2.refusedRequest.Email = request.Email;\n      yield _this2.requestService.updateRequest(request.Id, _this2.refusedRequest).toPromise();\n    })();\n  }\n\n}\n\nJointeamComponent.ɵfac = function JointeamComponent_Factory(t) {\n  return new (t || JointeamComponent)(i0.ɵɵdirectiveInject(i1.RequestService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.UserService));\n};\n\nJointeamComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: JointeamComponent,\n  selectors: [[\"app-jointeam\"]],\n  decls: 4,\n  vars: 2,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"], [4, \"ngIf\"], [\"elseBlock\", \"\"], [1, \"bigtitle\"], [1, \"row\"], [\"class\", \"column\", 4, \"ngFor\", \"ngForOf\"], [1, \"column\"], [1, \"card\"], [1, \"container\"], [1, \"name\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-times\", 3, \"click\"], [1, \"title\"], [1, \"button\", 3, \"click\"]],\n  template: function JointeamComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"link\", 0);\n      i0.ɵɵtemplate(1, JointeamComponent_body_1_Template, 6, 1, \"body\", 1);\n      i0.ɵɵtemplate(2, JointeamComponent_ng_template_2_Template, 1, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.requests !== i0.ɵɵpureFunction0(1, _c0));\n    }\n  },\n  directives: [i4.NgIf, i4.NgForOf],\n  styles: [\"@import url('https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css');\\r\\n\\r\\n\\r\\n*[_ngcontent-%COMP%]{\\r\\n    box-sizing:border-box;\\r\\n    margin:0;\\r\\n    padding:0;\\r\\n    background-color:whitesmoke;\\r\\n    font-family: \\\"Montserrat\\\", sans-serif;\\r\\n}\\r\\n\\r\\n\\r\\n.bigtitle[_ngcontent-%COMP%]{\\r\\n    color: #000;\\r\\n    font-size: 25px;\\r\\n    font-weight: 600;\\r\\n    text-transform: capitalize;\\r\\n   \\r\\n }\\r\\n\\r\\n\\r\\n.bigtitle[_ngcontent-%COMP%]:after{\\r\\n\\tcontent: '';\\r\\n    background-color:#f84018;\\r\\n    height: 3px;\\r\\n    width: 60px;\\r\\n    margin: 10px 0 0;\\r\\n    display: block;\\r\\n    clear: both;\\r\\n }\\r\\n\\r\\n\\r\\n.name[_ngcontent-%COMP%]{\\r\\n\\t color: #f84018;\\r\\n }\\r\\n\\r\\n\\r\\n.add_card[_ngcontent-%COMP%]{\\r\\n\\tdisplay: table;\\r\\n}\\r\\n\\r\\n\\r\\n#icon_holder[_ngcontent-%COMP%]{\\r\\n\\tdisplay:table-cell;\\r\\n\\tmin-width: 25%;\\r\\n}\\r\\n\\r\\n\\r\\n#request_info[_ngcontent-%COMP%]{\\r\\n\\tdisplay: table-cell;\\r\\n\\twidth:25%;\\r\\n\\tborder-color: #a5aaad;\\r\\n    border-radius: 15px 50px 30px 5px;\\r\\n}\\r\\n\\r\\n\\r\\n#sign_user[_ngcontent-%COMP%]{\\r\\n\\tdisplay: table-cell;\\r\\n\\twidth:50%;\\r\\n}\\r\\n\\r\\n\\r\\n.request_info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{\\r\\n\\tbackground-color: #f84018;\\r\\n\\tcursor:pointer;\\r\\n}\\r\\n\\r\\n\\r\\n#signcontent[_ngcontent-%COMP%] {\\r\\n\\tbackground:whitesmoke;\\r\\n\\tdisplay: table-cell;\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n\\r\\n#requestbar[_ngcontent-%COMP%] {\\r\\n\\tdisplay: table-cell;\\r\\n  }\\r\\n\\r\\n\\r\\nbody[_ngcontent-%COMP%] {\\r\\n    color: #566787;\\r\\n    background: whitesmoke;\\r\\n    font-family: 'Roboto', sans-serif;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n.column[_ngcontent-%COMP%] {\\r\\n\\tfloat: left;\\r\\n\\twidth: 33.3%;\\r\\n\\tmargin-bottom: 16px;\\r\\n\\tpadding: 0 8px;\\r\\n  }\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n@media screen and (max-width: 650px) {\\r\\n\\t.column[_ngcontent-%COMP%] {\\r\\n\\t  width: 100%;\\r\\n\\t  display: block;\\r\\n\\t}\\r\\n  }\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n.card[_ngcontent-%COMP%] {\\r\\n\\tbox-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\\r\\n  }\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n.container[_ngcontent-%COMP%] {\\r\\n    padding: 0 16px;\\r\\n  }\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n.container[_ngcontent-%COMP%]::after, .row[_ngcontent-%COMP%]::after {\\r\\n\\tcontent: \\\"\\\";\\r\\n\\tclear: both;\\r\\n\\tdisplay: table;\\r\\n  }\\r\\n\\r\\n\\r\\n.title[_ngcontent-%COMP%] {\\r\\n\\tcolor: grey;\\r\\n  }\\r\\n\\r\\n\\r\\n.button[_ngcontent-%COMP%] {\\r\\n\\tborder: none;\\r\\n\\toutline: 0;\\r\\n\\tdisplay: inline-block;\\r\\n\\tpadding: 8px;\\r\\n\\tcolor: white;\\r\\n\\tbackground-color: #000;\\r\\n\\ttext-align: center;\\r\\n\\tcursor: pointer;\\r\\n\\twidth: 100%;\\r\\n  }\\r\\n\\r\\n\\r\\n.button[_ngcontent-%COMP%]:hover {\\r\\n\\tbackground-color: #555;\\r\\n  }\\r\\n\\r\\n\\r\\n.name[_ngcontent-%COMP%]{\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n\\r\\nheader[_ngcontent-%COMP%]{\\r\\n   position:relative\\r\\n    \\r\\n}\\r\\n\\r\\n\\r\\n.fa[_ngcontent-%COMP%]{\\r\\n  position:absolute; \\r\\n  left: 260px;\\r\\n  color: black;\\r\\n  cursor: pointer;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpvaW50ZWFtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsNkZBQTZGOzs7QUFHN0Y7SUFDSSxxQkFBcUI7SUFDckIsUUFBUTtJQUNSLFNBQVM7SUFDVCwyQkFBMkI7SUFDM0IscUNBQXFDO0FBQ3pDOzs7QUFDQTtJQUNJLFdBQVc7SUFDWCxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLDBCQUEwQjs7Q0FFN0I7OztBQUNBO0NBQ0EsV0FBVztJQUNSLHdCQUF3QjtJQUN4QixXQUFXO0lBQ1gsV0FBVztJQUNYLGdCQUFnQjtJQUNoQixjQUFjO0lBQ2QsV0FBVztDQUNkOzs7QUFDQTtFQUNDLGNBQWM7Q0FDZjs7O0FBRUQ7Q0FDQyxjQUFjO0FBQ2Y7OztBQUVBO0NBQ0Msa0JBQWtCO0NBQ2xCLGNBQWM7QUFDZjs7O0FBRUE7Q0FDQyxtQkFBbUI7Q0FDbkIsU0FBUztDQUNULHFCQUFxQjtJQUNsQixpQ0FBaUM7QUFDckM7OztBQUVBO0NBQ0MsbUJBQW1CO0NBQ25CLFNBQVM7QUFDVjs7O0FBRUE7Q0FDQyx5QkFBeUI7Q0FDekIsY0FBYztBQUNmOzs7QUFFQTtDQUNDLHFCQUFxQjtDQUNyQixtQkFBbUI7Q0FDbkIsV0FBVztBQUNaOzs7QUFFQTtDQUNDLG1CQUFtQjtFQUNsQjs7O0FBRUY7SUFDSSxjQUFjO0lBQ2Qsc0JBQXNCO0lBQ3RCLGlDQUFpQztBQUNyQzs7O0FBQ0UsVUFBVTs7O0FBQ1YsK0JBQStCOzs7QUFDakM7Q0FDQyxXQUFXO0NBQ1gsWUFBWTtDQUNaLG1CQUFtQjtDQUNuQixjQUFjO0VBQ2I7OztBQUVBLGtGQUFrRjs7O0FBQ2xGO0NBQ0Q7R0FDRSxXQUFXO0dBQ1gsY0FBYztDQUNoQjtFQUNDOzs7QUFFQSw2Q0FBNkM7OztBQUM3QztDQUNELDBDQUEwQztFQUN6Qzs7O0FBRUEscURBQXFEOzs7QUFDckQ7SUFDRSxlQUFlO0VBQ2pCOzs7QUFFQSxpQkFBaUI7OztBQUNqQjtDQUNELFdBQVc7Q0FDWCxXQUFXO0NBQ1gsY0FBYztFQUNiOzs7QUFFQTtDQUNELFdBQVc7RUFDVjs7O0FBRUE7Q0FDRCxZQUFZO0NBQ1osVUFBVTtDQUNWLHFCQUFxQjtDQUNyQixZQUFZO0NBQ1osWUFBWTtDQUNaLHNCQUFzQjtDQUN0QixrQkFBa0I7Q0FDbEIsZUFBZTtDQUNmLFdBQVc7RUFDVjs7O0FBRUE7Q0FDRCxzQkFBc0I7RUFDckI7OztBQUVBO0lBQ0UscUJBQXFCO0FBQ3pCOzs7QUFDQTtHQUNHOztBQUVIOzs7QUFDQTtFQUNFLGlCQUFpQjtFQUNqQixXQUFXO0VBQ1gsWUFBWTtFQUNaLGVBQWU7QUFDakIiLCJmaWxlIjoiam9pbnRlYW0uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgdXJsKCdodHRwczovL3N0YWNrcGF0aC5ib290c3RyYXBjZG4uY29tL2ZvbnQtYXdlc29tZS80LjcuMC9jc3MvZm9udC1hd2Vzb21lLm1pbi5jc3MnKTtcclxuXHJcblxyXG4qe1xyXG4gICAgYm94LXNpemluZzpib3JkZXItYm94O1xyXG4gICAgbWFyZ2luOjA7XHJcbiAgICBwYWRkaW5nOjA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOndoaXRlc21va2U7XHJcbiAgICBmb250LWZhbWlseTogXCJNb250c2VycmF0XCIsIHNhbnMtc2VyaWY7XHJcbn1cclxuLmJpZ3RpdGxle1xyXG4gICAgY29sb3I6ICMwMDA7XHJcbiAgICBmb250LXNpemU6IDI1cHg7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XHJcbiAgIFxyXG4gfVxyXG4gLmJpZ3RpdGxlOmFmdGVye1xyXG5cdGNvbnRlbnQ6ICcnO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjojZjg0MDE4O1xyXG4gICAgaGVpZ2h0OiAzcHg7XHJcbiAgICB3aWR0aDogNjBweDtcclxuICAgIG1hcmdpbjogMTBweCAwIDA7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIGNsZWFyOiBib3RoO1xyXG4gfVxyXG4gLm5hbWV7XHJcblx0IGNvbG9yOiAjZjg0MDE4O1xyXG4gfVxyXG5cclxuLmFkZF9jYXJke1xyXG5cdGRpc3BsYXk6IHRhYmxlO1xyXG59XHJcblxyXG4jaWNvbl9ob2xkZXJ7XHJcblx0ZGlzcGxheTp0YWJsZS1jZWxsO1xyXG5cdG1pbi13aWR0aDogMjUlO1xyXG59XHJcblxyXG4jcmVxdWVzdF9pbmZve1xyXG5cdGRpc3BsYXk6IHRhYmxlLWNlbGw7XHJcblx0d2lkdGg6MjUlO1xyXG5cdGJvcmRlci1jb2xvcjogI2E1YWFhZDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHggNTBweCAzMHB4IDVweDtcclxufVxyXG5cclxuI3NpZ25fdXNlcntcclxuXHRkaXNwbGF5OiB0YWJsZS1jZWxsO1xyXG5cdHdpZHRoOjUwJTtcclxufVxyXG5cclxuLnJlcXVlc3RfaW5mbyBidXR0b246aG92ZXJ7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogI2Y4NDAxODtcclxuXHRjdXJzb3I6cG9pbnRlcjtcclxufVxyXG5cclxuI3NpZ25jb250ZW50IHtcclxuXHRiYWNrZ3JvdW5kOndoaXRlc21va2U7XHJcblx0ZGlzcGxheTogdGFibGUtY2VsbDtcclxuXHR3aWR0aDogMTAwJTtcclxufVxyXG5cclxuI3JlcXVlc3RiYXIge1xyXG5cdGRpc3BsYXk6IHRhYmxlLWNlbGw7XHJcbiAgfVxyXG5cclxuYm9keSB7XHJcbiAgICBjb2xvcjogIzU2Njc4NztcclxuICAgIGJhY2tncm91bmQ6IHdoaXRlc21va2U7XHJcbiAgICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7XHJcbn1cclxuICAvKm5ldyBjc3MqL1xyXG4gIC8qIFRocmVlIGNvbHVtbnMgc2lkZSBieSBzaWRlICovXHJcbi5jb2x1bW4ge1xyXG5cdGZsb2F0OiBsZWZ0O1xyXG5cdHdpZHRoOiAzMy4zJTtcclxuXHRtYXJnaW4tYm90dG9tOiAxNnB4O1xyXG5cdHBhZGRpbmc6IDAgOHB4O1xyXG4gIH1cclxuICBcclxuICAvKiBEaXNwbGF5IHRoZSBjb2x1bW5zIGJlbG93IGVhY2ggb3RoZXIgaW5zdGVhZCBvZiBzaWRlIGJ5IHNpZGUgb24gc21hbGwgc2NyZWVucyAqL1xyXG4gIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDY1MHB4KSB7XHJcblx0LmNvbHVtbiB7XHJcblx0ICB3aWR0aDogMTAwJTtcclxuXHQgIGRpc3BsYXk6IGJsb2NrO1xyXG5cdH1cclxuICB9XHJcbiAgXHJcbiAgLyogQWRkIHNvbWUgc2hhZG93cyB0byBjcmVhdGUgYSBjYXJkIGVmZmVjdCAqL1xyXG4gIC5jYXJkIHtcclxuXHRib3gtc2hhZG93OiAwIDRweCA4cHggMCByZ2JhKDAsIDAsIDAsIDAuMik7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIFNvbWUgbGVmdCBhbmQgcmlnaHQgcGFkZGluZyBpbnNpZGUgdGhlIGNvbnRhaW5lciAqL1xyXG4gIC5jb250YWluZXIge1xyXG4gICAgcGFkZGluZzogMCAxNnB4O1xyXG4gIH1cclxuICBcclxuICAvKiBDbGVhciBmbG9hdHMgKi9cclxuICAuY29udGFpbmVyOjphZnRlciwgLnJvdzo6YWZ0ZXIge1xyXG5cdGNvbnRlbnQ6IFwiXCI7XHJcblx0Y2xlYXI6IGJvdGg7XHJcblx0ZGlzcGxheTogdGFibGU7XHJcbiAgfVxyXG4gIFxyXG4gIC50aXRsZSB7XHJcblx0Y29sb3I6IGdyZXk7XHJcbiAgfVxyXG4gIFxyXG4gIC5idXR0b24ge1xyXG5cdGJvcmRlcjogbm9uZTtcclxuXHRvdXRsaW5lOiAwO1xyXG5cdGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuXHRwYWRkaW5nOiA4cHg7XHJcblx0Y29sb3I6IHdoaXRlO1xyXG5cdGJhY2tncm91bmQtY29sb3I6ICMwMDA7XHJcblx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cdGN1cnNvcjogcG9pbnRlcjtcclxuXHR3aWR0aDogMTAwJTtcclxuICB9XHJcbiAgXHJcbiAgLmJ1dHRvbjpob3ZlciB7XHJcblx0YmFja2dyb3VuZC1jb2xvcjogIzU1NTtcclxuICB9XHJcblxyXG4gIC5uYW1le1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59XHJcbmhlYWRlcntcclxuICAgcG9zaXRpb246cmVsYXRpdmVcclxuICAgIFxyXG59XHJcbi5mYXtcclxuICBwb3NpdGlvbjphYnNvbHV0ZTsgXHJcbiAgbGVmdDogMjYwcHg7XHJcbiAgY29sb3I6IGJsYWNrO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufSJdfQ== */\"]\n});","map":{"version":3,"sources":["C:\\Users\\azer\\Desktop\\Aptiv\\Front\\src\\app\\Dashboard\\jointeam\\jointeam.component.ts","C:\\Users\\azer\\Desktop\\Aptiv\\Front\\src\\app\\Dashboard\\jointeam\\jointeam.component.html"],"names":[],"mappings":"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","sourcesContent":["import { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { RequestService } from './../../Services/request.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Request } from 'src/app/classes/request';\nimport { User } from 'src/app/classes/user';\n\nimport { UserService } from 'src/app/Services/user.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { NewUserComponent } from './new-user/new-user.component';\n\n@Component({\n  selector: 'app-jointeam',\n  templateUrl: './jointeam.component.html',\n  styleUrls: ['./jointeam.component.css']\n})\nexport class JointeamComponent implements OnInit {\n   //get request from backend\n   //how to add pop up in angular\n  requests: Request[]=[];\n  newrequest:Request=new Request();\n  refusedRequest:Request=new Request();\n  users:User[]=[];\n  title = '';\n  test=false;\n  constructor(private requestService:RequestService,private matDialog: MatDialog,private userService:UserService) { \n   \n  }\n  \n  async ngOnInit(): Promise<void> {\n    this.retrieveRequests();\n\n    this.users=await this.userService.getUsers().toPromise()\n    console.log(this.users);\n  }\n\n  retrieveRequests(): void {\n    this.requestService.getRequests()\n      .subscribe(\n        data => {\n          this.requests = data.filter(request=>{return request.Status?.toLocaleLowerCase().match('onhold')});\n          console.log(data);\n        },\n        error => {\n          console.log(error);\n        });\n\n\n  }\n\n  openDialog(request:Request): void {\n    let dialogRef = this.matDialog.open(NewUserComponent, {\n      width: '700px'\n      \n    });\n    sessionStorage.setItem('approved-request',JSON.stringify(request));\n    dialogRef.afterClosed().subscribe(result => {\n    });\n  }\n\n  updateApprovedRequest(request:Request){\n    this.newrequest=request;\n    console.log(this.newrequest);\n    this.newrequest.Status=\"refused\";\n    this.requestService.updateRequest(request.Id,this.newrequest).subscribe();\n  }\n\n  async refuseRequest(request:Request){\n  this.refusedRequest.Status=\"refused\";\n  this.refusedRequest.Name=request.Name;\n  this.refusedRequest.FamilyName=request.FamilyName;\n  this.refusedRequest.Job=request.Job;\n  this.refusedRequest.Email=request.Email;\n  await this.requestService.updateRequest(request.Id,this.refusedRequest).toPromise();\n  \n  }\n\n}\n\n\n","<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\n\n<body *ngIf=\"requests!==[]\">\n    <h2 class=\"bigtitle\">Requests On Hold</h2>\n    <br>\n    <div class=\"row\">\n        <div class=\"column\" *ngFor=\"let request of requests\">\n            <div class=\"card\">\n\n                <div class=\"container\">\n                       <header>\n                        <h2 class=\"name\">{{request.Name}} {{request.FamilyName}}<i class=\"fa fa-times\"\n                            aria-hidden=\"true\" (click)=\"refuseRequest(request)\"></i>\n                        </h2>\n                        </header>\n                    <p class=\"title\">{{request.Job}}</p>\n                    <p>Some text that describes me lorem ipsum ipsum lorem.</p>\n                    <p>{{request.Email}}</p>\n                    <p><button class=\"button\" (click)=\"openDialog(request)\">Approve</button></p>\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n</body>\n<ng-template #elseBlock>\n    <div></div>\n</ng-template>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}